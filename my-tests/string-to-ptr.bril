@str_print(str: ptr<char>) {
    terminator: char = const '.';
    one: int = const 1;
    i: int = const 0;
.loop:
    strpos: ptr<char> = ptradd str i;
    c: char = load strpos;
    end: bool = ceq terminator c;
    br end .exit .body;
.body:
    print c;
    i: int = add i one;
    jmp .loop;
.exit:
}

@main() {
  s: string = const "Alo Mundo.";
  charvec: ptr<char> = str2ptr s;
  print s;
  call @str_print charvec;
  free charvec;
}